---
import { expandElasticTabs } from '../utils/elastic_tabstop';

interface Item {
    label: string;
    value?: string;
    children?: Item[];
}

interface Props {
    items: Item[];
}

const { items } = Astro.props;

function formatItem(item: Item, indent: number = 0): string {
    let result = ' '.repeat(indent * 2) + item.label + (item.value || item.children ? ':' : '');
    if (item.value) {
        result += '\t' + item.value;
    }
    result += '\n';
    if (item.children) {
        for (const child of item.children) {
            result += formatItem(child, indent + 1);
        }
    }
    return result;
}
---

<pre>{expandElasticTabs(items.map((item: Item) => formatItem(item)).join(""))}</pre>
